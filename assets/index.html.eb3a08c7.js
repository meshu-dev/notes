import{_ as r,o as i,c as d,a as e,b as t,e as a,d as s,r as o}from"./app.1e68b3ea.js";const l={},c=e("h1",{id:"mongodb",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#mongodb","aria-hidden":"true"},"#"),a(" MongoDB")],-1),u=e("h2",{id:"install",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#install","aria-hidden":"true"},"#"),a(" Install")],-1),h={href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu",target:"_blank",rel:"noopener noreferrer"},m=a("Install guide"),b=s(`<h3 id="start-mongodb-on-server-restart" tabindex="-1"><a class="header-anchor" href="#start-mongodb-on-server-restart" aria-hidden="true">#</a> Start MongoDB on server restart</h3><p>Run the following after installing MongoDB</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo systemctl enable mongod.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="commands" tabindex="-1"><a class="header-anchor" href="#commands" aria-hidden="true">#</a> Commands</h2><p>Added links to command guides.</p>`,5),g={href:"https://docs.mongodb.com/manual/mongo",target:"_blank",rel:"noopener noreferrer"},v=a("MongoDB manual"),p={href:"https://www.tutorialspoint.com/mongodb/mongodb_create_database.htm",target:"_blank",rel:"noopener noreferrer"},x=a("Tutorialspoint - MongoDB create database"),_=s(`<h2 id="authentication" tabindex="-1"><a class="header-anchor" href="#authentication" aria-hidden="true">#</a> Authentication</h2><h3 id="enable-authentication" tabindex="-1"><a class="header-anchor" href="#enable-authentication" aria-hidden="true">#</a> Enable authentication</h3><p>By default MongoDB is accessible without a user.</p><p>To change open mongod.conf and add the enable setting.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vim /etc/mongod.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>security:
  authorization: &quot;enabled&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="user-login" tabindex="-1"><a class="header-anchor" href="#user-login" aria-hidden="true">#</a> User login</h3><p>To access MongoDB on command line with a user account run the following.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mongo -u admin -p --authenticationDatabase admin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="create-users" tabindex="-1"><a class="header-anchor" href="#create-users" aria-hidden="true">#</a> Create users</h3><p>Create user with access to any database.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>db.createUser(
  { user: &quot;admin&quot;, pwd: &quot;password&quot;, roles: [ { role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; } ] }
)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create user with read and write access.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>db.createUser(
  { user: &quot;admin&quot;, pwd: &quot;password&quot;, roles: [ { role: &quot;readWrite&quot;, db: &quot;admin&quot; }] }
)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="grant-user-roles" tabindex="-1"><a class="header-anchor" href="#grant-user-roles" aria-hidden="true">#</a> Grant user roles</h3><p>Grant roles to users for specified databases.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>db.grantRolesToUser(&#39;mesh&#39;, [{ role: &#39;readWrite&#39;, db: &#39;movies&#39; }])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="delete-users" tabindex="-1"><a class="header-anchor" href="#delete-users" aria-hidden="true">#</a> Delete users</h3><p>Delete user with following command.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>db.dropUser(&quot;mesh&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="create-collections" tabindex="-1"><a class="header-anchor" href="#create-collections" aria-hidden="true">#</a> Create collections</h2><p>Needed to create collections before use.</p><p>Select specific database.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>use movies_db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Create a collection.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>db.createCollection(&quot;movies&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="issues-and-fixes" tabindex="-1"><a class="header-anchor" href="#issues-and-fixes" aria-hidden="true">#</a> Issues and fixes</h3>`,27),f={href:"https://dba.stackexchange.com/questions/111727/mongo-create-a-user-as-admin-for-any-database-raise-an-error",target:"_blank",rel:"noopener noreferrer"},q=a("Create user issue"),w={href:"https://medium.com/mongoaudit/how-to-enable-authentication-on-mongodb-b9e8a924efac",target:"_blank",rel:"noopener noreferrer"},k=a("Enable authentication - medium blog");function B(D,C){const n=o("ExternalLinkIcon");return i(),d("div",null,[c,u,e("p",null,[e("a",h,[m,t(n)])]),b,e("ul",null,[e("li",null,[e("p",null,[e("a",g,[v,t(n)])])]),e("li",null,[e("p",null,[e("a",p,[x,t(n)])])])]),_,e("ul",null,[e("li",null,[e("p",null,[e("a",f,[q,t(n)])])]),e("li",null,[e("p",null,[e("a",w,[k,t(n)])])])])])}var y=r(l,[["render",B],["__file","index.html.vue"]]);export{y as default};
