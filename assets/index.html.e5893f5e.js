import{_ as d,o as r,c as t,a as e,b as a,d as s,e as n,r as l}from"./app.937cc910.js";const o={},c=s(`<h1 id="symfony" tabindex="-1"><a class="header-anchor" href="#symfony" aria-hidden="true">#</a> Symfony</h1><p>Notes on programming with Symfony 5</p><h2 id="symfony-commands" tabindex="-1"><a class="header-anchor" href="#symfony-commands" aria-hidden="true">#</a> Symfony commands</h2><p>To run symfony apps...</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>symfony serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>To build new symfony apps...</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>symfony new todo-api
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>To run symfony apps in background...</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>symfony serve -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>symfony server:status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>symfony server:stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="composer-commands" tabindex="-1"><a class="header-anchor" href="#composer-commands" aria-hidden="true">#</a> Composer commands</h2><p>Add annotations recipe...</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require annotations
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Remove recipe...</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer remove annotations
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show list of current recipes</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer recipes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show info on specific recipe</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer recipes doctrine/annotations
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Add profiler (Useful for dev)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require profiler --dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Unpack packs (more control over individual packages contained in pack)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer unpack symfony/debug-pack
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="bin-console-commands" tabindex="-1"><a class="header-anchor" href="#bin-console-commands" aria-hidden="true">#</a> Bin/console commands</h2><p>Command Manager...</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show all routes</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console debug:router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show list of services that are autowired</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console debug:autowiring
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Search through list of services</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console debug:autowiring log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show config options for specified bundle</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console config:dump FrameworkBundle
php bin/console config:dump FrameworkBundle cache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>Clear cache</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console cache:clear
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show config parameters (Can be added in config/services.yaml)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console debug:container --parameters
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show all services (Custom service classes stored in App\\Service directory)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console debug:autowiring Markdown --all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Show all services in service container</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console debug:container
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>Set secret vault value</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console secret:set SENTRY_DSN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="terms" tabindex="-1"><a class="header-anchor" href="#terms" aria-hidden="true">#</a> Terms</h2>`,65),u=e("li",null,[e("p",null,"Bundles"),e("ul",null,[e("li",null,"Symfony plugins")])],-1),m=e("p",null,"Symfony Flex",-1),v=e("li",null,"It's a composer plugin that uses the Symfony recipe system",-1),p=n("Search for recipes at "),h={href:"http://flex.symfony.com",target:"_blank",rel:"noopener noreferrer"},g=n("http://flex.symfony.com"),b=e("li",null,[e("p",null,"Environemnt variables"),e("ul",null,[e("li",null,"Can use environment variables in config files")])],-1),x=s(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sentry:
  dsn: &#39;%env(SENTRY_DSN)%&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Config/services.yaml <ul><li>Add config parameters in this file</li><li>For autowired custom classes can specify scaler typed parameters that may be defiend in class constructor</li></ul></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>App\\Service\\MarkdownHelper:
	arguements:
		$isDebug: &#39;%kernel.debug%&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Can also have autowired parameters defined globally</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>services:
	_defaults:
		autowire: true
		autoconfigure: true
		bind:
			$isDebug: &#39;%kernel.debug%&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="building-an-api" tabindex="-1"><a class="header-anchor" href="#building-an-api" aria-hidden="true">#</a> Building an API</h2><h3 id="install-packages" tabindex="-1"><a class="header-anchor" href="#install-packages" aria-hidden="true">#</a> Install packages</h3><ul><li>Install maker bundle which provides boilerplate for classes.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require maker --dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,10),f=n("Install Doctrine pack to use ORM. "),y=n("Guide available at "),_={href:"https://symfony.com/doc/current/doctrine.html",target:"_blank",rel:"noopener noreferrer"},k=n("Doctrine guide"),S=n("."),w=s(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require orm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Install serializer pack as FOSRestBundle requires a serializer setup.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require symfony/serializer-pack
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),A=n("Install FOSRestBundle 3 beta("),B={href:"https://github.com/FriendsOfSymfony/FOSRestBundle",target:"_blank",rel:"noopener noreferrer"},C=n("FOSRestBundle Github"),R=n(")."),q=s(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require friendsofsymfony/rest-bundle:3.0.0-beta2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="config-doctrine" tabindex="-1"><a class="header-anchor" href="#config-doctrine" aria-hidden="true">#</a> Config Doctrine</h3><ul><li>Open up .env file and update the DATABASE_URL with database connection details.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vim .env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>DATABASE_URL=mysql://root:@localhost:3306/test?serverVersion=5.7</p></blockquote><ul><li>Create database defined in .env DATABASE_URL.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console doctrine:database:create
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="param-fetcher" tabindex="-1"><a class="header-anchor" href="#param-fetcher" aria-hidden="true">#</a> Param Fetcher</h3><p>Symfony validator is required when enabling and using param fetcher.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require symfony/validator
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="migrations" tabindex="-1"><a class="header-anchor" href="#migrations" aria-hidden="true">#</a> Migrations</h2><ul><li>Create entity class.</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/console make:entity
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Create migration file. <ul><li>Migragtions will check entities with database and automatically add CREATE TABLE or UPDATE TABLE SQL to migration.</li></ul></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./bin/console make:migration 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Run migrations</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./bin/console doctrine:migrations:migrate 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="fixtures" tabindex="-1"><a class="header-anchor" href="#fixtures" aria-hidden="true">#</a> Fixtures</h2><h3 id="install" tabindex="-1"><a class="header-anchor" href="#install" aria-hidden="true">#</a> Install</h3><p>Run command below to install.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require --dev orm-fixtures
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h3><p>It&#39;s common to have a fixture class for each entity class.</p><p>Create fixtures using maker bundle.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./bin/console make:fixtures
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Run fixture files.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./bin/console doctrine:fixtures:load
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="faker" tabindex="-1"><a class="header-anchor" href="#faker" aria-hidden="true">#</a> Faker</h3><p>To use generated test data use the faker package.</p><p>To install run this command.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require fzaninotto/faker --dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="coding-standards" tabindex="-1"><a class="header-anchor" href="#coding-standards" aria-hidden="true">#</a> Coding Standards</h2><p>Below link is a guide to documentating and structuring code.</p>`,33),T={href:"https://symfony.com/doc/current/contributing/code/standards.html",target:"_blank",rel:"noopener noreferrer"},I=n("Symfony coding standards"),E=n("."),D=s(`<h2 id="php-unit" tabindex="-1"><a class="header-anchor" href="#php-unit" aria-hidden="true">#</a> PHP Unit</h2><h3 id="install-1" tabindex="-1"><a class="header-anchor" href="#install-1" aria-hidden="true">#</a> Install</h3><p>Install Symfony phpunit package.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require --dev symfony/phpunit-bridge
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Install browser kit package to run tests on API endpoints.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>composer require --dev symfony/browser-kit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="usage-1" tabindex="-1"><a class="header-anchor" href="#usage-1" aria-hidden="true">#</a> Usage</h3><p>Create PHP Unit test.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./bin/console make:unit-test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Run PHP Unit tests.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>php bin/phpunit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Commands for run fixtures to prepare data for php unit tests.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./bin/console doctrine:schema:drop --force
./bin/console doctrine:schema:
./bin/console doctrine:fixtures:load
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),F=n("Reference: "),U={href:"https://coderwall.com/p/staybw/workaround-for-1701-cannot-truncate-a-table-referenced-in-a-foreign-key-constraint-using-doctrine-fixtures-load-purge-with-truncate",target:"_blank",rel:"noopener noreferrer"},P=n("Commands to drop and create DB");function N(L,O){const i=l("ExternalLinkIcon");return r(),t("div",null,[c,e("ul",null,[u,e("li",null,[m,e("ul",null,[v,e("li",null,[p,e("a",h,[g,a(i)])])])]),b]),x,e("ul",null,[e("li",null,[f,e("ul",null,[e("li",null,[y,e("a",_,[k,a(i)]),S])])])]),w,e("ul",null,[e("li",null,[A,e("a",B,[C,a(i)]),R])]),q,e("p",null,[e("a",T,[I,a(i)]),E]),D,e("p",null,[F,e("a",U,[P,a(i)])])])}var V=d(o,[["render",N],["__file","index.html.vue"]]);export{V as default};
